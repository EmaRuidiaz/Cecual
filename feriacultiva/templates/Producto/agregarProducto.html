{% extends 'base.html' %}
{% load static %}



{% block titulo %} Productos {% endblock titulo%}


{% block contenido %}  
<head>
    <link rel="stylesheet" type="text/css" href="{% static 'css/altaProd.css' %}">
</head>

<!-- Contenido de la pagina -->
<section class="py-5">
  <!-- titulo y subtitulo de la pagina -->
  <div class="container">
		    
		
	<div style="margin-top: 35px;">  


		{% if object %}
		<h2 class="my-4 titulo text-center">MODIFICAR PRODUCTO</h2>
			<form action="" method="POST" class="titulo"> {% csrf_token %}
                <!-- <label for="encargado">Encargado: </label>
                <input type="text" name="encargado" id="encargado" value="{{feria.encargado.username}}"><br> -->
                <div class="row">
                    <div class="col-md-6 text-center w-25">
                        <div class="col-12">
                            <i class="fa fa-camera"></i> <label>Foto:</label>
                        </div>
                        <div class="fotoproducto">
                        {% if object.foto_producto %}
                        <img class="" src="{{object.foto_producto.url}}" alt="foto">
                        {% else %}
                        <img src="" alt="no existe">
                        {% endif %}
                        </div> 
                        <input type="file" name="foto_producto" value="{{object.foto_producto.url}}">
                    </div>

                    <div class="col-md-6" style="margin-top: 20px;">
                    	<div class="items">
                    		<label>Producto</label>
                            <input type="text" name="nombre" id="nombre" value="{{object.nombre}}">
                        </div>
                        <div class="items">
                            <label>Precio</label> 
		                    <input  type="number" name="precio" id="precio" value="{{object.precio}}">
		                </div>
		                <div class="items">
                            <label>Stock</label> 
		                    <input  type="number" name="stock" id="stock" value="{{object.stock}}">
		                </div>
		                <div class="items">
                           <label>Seleccionar categoria</label>
		                        <select name="categoria">
									{% for c in categoria %}
										<option value="{{c.pk}}">{{ c }}</option>
									{% endfor %}
								</select>
		                </div>
		                <div class="items">
                            <label>Descripci칩n</label> 
		                    <input  type="text" name="descripcion" id="descripcion" value="{{object.descripcion}}">
		                </div>
                       
                    </div>
                </div>
                    <div class="col-12 text-center" style="margin-top: 30px;">
                        <button class="btn alta-prod" type="submit">Guardar cambios</button>
                    </div>
                </form>
<!-- 

			<form autocomplete="off" method="POST"  enctype="multipart/form-data">{% csrf_token %}
				{{form.as_p}}
				<button type="submit">save</button>
				
			</form> -->
		{% else %}
<!--formulario -->
		<h2 class="my-4 titulo text-center">NUEVO PRODUCTO</h2>
		<div class="container h-100 " style="background-color: #f5f5f5;padding-top: 15px; padding-bottom: 15px;" >

			<div  class="row justify-content-center align-items-center">
				
			{% for x in messages %}
				            <div class="alert alert-success">
				                {{x}}
				            </div>
		            {% endfor %}
		     <div class="col col-sm-6 col-md-6 col-lg-6 ">
		       <form autocomplete="off" method="POST"  enctype="multipart/form-data"  >
				            {% csrf_token %}
				            {% if form.errors %}
							<div class="alert" style="background-color: red;">
						      {{form.errors}}
						    </div>
							{% endif %}

		                
		                    <div class="form-group">
		                        <label  class="control-label">Nombre del producto</label> 
		                        <input  type="text" maxlength="35" class="form-control" placeholder="Ingrese el nombre del producto" name="nombre">
		                    </div>
		             
		            
		            
		                    <div class="form-group">
		                        <label  for="inputApellido">Precio</label> 
		                        <input  type="number" class="form-control" placeholder="Ingrese el precio" name="precio">
		                    </div>
		               
		                
		                    <div class="form-group">
		                        <label for="inputApellido">Stock</label> 
		                        <input type="number" class="form-control" placeholder="Ingrese el stock" name="stock">
		                    </div>
		               	
							<div class="form-group">
		                        <label >Descripci칩n</label>
		                        <input type="text" maxlength="100" class="form-control" placeholder="Ingrese una descripci칩n" name="descripcion">
		                        <small style="color: #2c5d63;">Cantidad m치xima: 100 caracteres.</small>
		                        <!-- <input type="submit" value="Enviar datos">-->
		                    </div>
						
		                    <div class="form-group">
		                        <label >Imagen del producto</label>
		                        <img src=""> 
		                        <input type="file" name="foto_producto">
		                        <!-- <input type="submit" value="Enviar datos">-->
		                    </div>
		              
		           
		              
		                
		                    <div class="form-group">
		                    	<label>Seleccionar categoria</label>
		                        <select name="categoria">
									{% for c in categoria %}
										<option value="{{ c.pk }}">{{ c }}</option>
									{% endfor %}
								</select>
		                    </div>
		              



		            <div class="row justify-content-center align-items-center">
		            	<button class="btn alta-prod" type="submit"href="{% url 'producto:listar' %}">Cancelar</button>
		            	<button class="btn alta-prod" type="submit">Guardar</button>
		            </div>
		
				 	{% if object %}
				 		<div>
				 			<a type="submit" href="{% url 'producto:eliminar' object.pk %}" class="btn btn-danger">Eliminar</a>
				 		</div>
				 	
				 	{% endif %}

				 	</div>
		        </form> 
 				</div>
		      </div>
		   </div><!--fin container form-->
		   	{% endif %}

		</div><!--fin row-->
  
  </div>  <!-- /fin container -->     
</section>
{% endblock contenido%}




